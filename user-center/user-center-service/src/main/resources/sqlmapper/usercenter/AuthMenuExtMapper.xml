<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ai.bdex.dataexchange.usercenter.dao.mapper.AuthMenuExtMapper">
  <resultMap id="BaseResultMap" type="com.ai.bdex.dataexchange.usercenter.dao.model.AuthMenu">
    <id column="menu_id" jdbcType="INTEGER" property="menuId" />
    <result column="menu_type" jdbcType="VARCHAR" property="menuType" />
    <result column="menu_title" jdbcType="VARCHAR" property="menuTitle" />
    <result column="menu_order" jdbcType="INTEGER" property="menuOrder" />
    <result column="menu_parent_id" jdbcType="INTEGER" property="menuParentId" />
    <result column="menu_url" jdbcType="VARCHAR" property="menuUrl" />
    <result column="menu_pic" jdbcType="VARCHAR" property="menuPic" />
    <result column="sys_code" jdbcType="VARCHAR" property="sysCode" />
    <result column="menu_module" jdbcType="VARCHAR" property="menuModule" />
    <result column="status" jdbcType="VARCHAR" property="status" />
    <result column="open_way" jdbcType="VARCHAR" property="openWay" />
  </resultMap>
  <!--通过Role ID 查询菜单信息-->
  <select id="selectByRoleId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select m.menu_id, m.menu_type, m.menu_title, m.menu_order, m.menu_parent_id, m.menu_url, m.menu_pic, m.sys_code,m.menu_module, m.status, m.open_way
    from t_auth_menu m ,t_auth_role_2_menu r
    where m.menu_id = r.menu_id
    and r.menu_id = #{roleId,jdbcType=INTEGER}
    and m.status='1'
    and r.status='1'
  </select>
</mapper>